name: CI

# Управление запуском рабочего процесса. 
# Триггерится по запросам push и pull в ветку master.
on:
#  push:
#    branches: [ master ]
#  pull_request:
#    branches: [ master, develop ]

  workflow_dispatch:
  
env:
 GITHUB_TOKEN: ${{secrets.GITHUB_TOKEN}}
 KEYSTORE_FILE: $ {{secrets.KEYSTORE_FILE}}
 KEYSTORE_KEY_ALIAS: ${{secrets.KEYSTORE_KEY_ALIAS}}
 KEYSTORE_KEY_PASSWORD: ${{secrets.KEYSTORE_KEY_PASSWORD}}
 KEYSTORE_STORE_PASSWORD: ${{secrets.KEYSTORE_STORE_PASSWORD}}

jobs:
 build:
  runs-on: ubuntu-latest
    
  steps:

   - name: Make Gradlew Executable
     run: chmod +x ./gradlew
      
   - name: Run Unit Tests
     run: ./gradlew test
